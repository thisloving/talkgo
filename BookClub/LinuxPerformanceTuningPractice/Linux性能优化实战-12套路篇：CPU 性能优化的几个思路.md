##  性能优化方法论

+ 首先，既然要做性能优化，那要怎么判断它是不是有效
+ 第二，性能问题通常不是独立的，如果有多个性能问题同时发生，你应该先优化哪一个
+ 第三，提升性能的方法并不是唯一的

## 怎么评估性能优化的效果？

+ 确定性能的量化指标。
+ 测试优化前的性能指标。
+ 测试优化后的性能指标。

不要局限在单一维度的指标上，应用程序的维度，我们可以用吞吐量和请求延迟来评估应用程序的性能。系统资源的维度，我们可以用 CPU 使用率来评估系统的 CPU 使用情况。

## 多个性能问题同时存在，要怎么选择？

​		并不是所有的性能问题都值得优化。

+ 第一，如果发现是系统资源达到了瓶颈，比如 CPU 使用率达到了 100%，那么首先优化的一定是系统资源使用问题
+ 第二，针对不同类型的指标，首先去优化那些由瓶颈导致的，性能指标变化幅度最大的问题。

## 有多种优化方法时，要如何选择?

在考虑选哪个性能优化方法时，你要综合多方面的因素。

## CPU 优化

### 应用程序优化

+ 编译器优化(gcc -o2)
+ 算法优化
+ 异步处理
+ 多线程代替多进程
+ 善用缓存

### 系统优化

+ CPU 绑定
+ CPU 独占
+ 优先级调整
+ 为进程设置资源限制
+ NUMA（Non-Uniform Memory Access）优化
+ 中断负载均衡

## 千万避免过早优化

经常看到这句话，不知道啥意思，写程序过多考虑是一种错误？

## 总结

作者的一些优化思路。